# 코드 정리 시점

## 코드드를 정리하지 않기

진짜로 변경이 필요 없는 시스템이라면 "고장 나지 않으면 고치지도 말자"라는 말이 합리적일 수 있다. 극히 드물지만 이러한 사례가 존재 하긴 한다.

## 나중에 정리하기

코드 정리를 미루는 일을 굉장히 신기하게 바라보는 사람들이 많지만, 책에서 나중에 코드를 정리하겠다는 선택을 마치 정답처럼 여기는 이유는 지금 정리할 코드가 너무 많으니 언제해도 상관없다는 논리이다

"재미 목록"을 만들어서 나중에 정리할 코드들을 모아두자

지금 변경한 동작과 연결되지 않는 코드 정리를 나중에 하면 몇 가지 다른 방식으로 가치를 창출한다. 한 가지는 지저분함 보유세(tax of messiness)를 줄이는 것이다.

## 동작 변경 후에 코드 정리가

앞에서 잠시 언급되었던 것처럼 동작 변경이 되었던 구간은 앞으로도 동작 변경이 추가될 가능성이 높다. 때문에 지금 동작 변경을 하고나서 코드 정리를 하는 것은 상당한 의미가 있다.

동작 변경에 한 시간이 소요되었지만 코드 정리에 그 보다 더 많은 시간이 소요되어야 한다면 "재미 목록"에 추가하는 편이 좋다.

## 코드 정리 후에 동작 변경

> 코드 정리를 선행해야 할까요? 정답은 상황에 따라 다릅니다.

- 코드 정리를 안하고 진행한다면 일이 얼마나 어려운지?
- 코드 정리를 한다면 바로 이점을 얻을 수 있는지?
- 코드 정리에 드는 비용을 어떻게(얼마나) 보상받을 수 있을지?
- 코드 정리에 대해 얼마나 확신하고 있는지?

생각해보고 코드 정리를 선행할지 판단해야 한다.

일반적으로 코드를 먼저 정리하는 것을 선호하지만, 정리 그 자체를 목적으로 삼지 않도록 경계해야 한다.

## 요약

(다 읽고 나니 요약이 무척 잘 되어있었네요)

### 다음 상황에는 코드 정리를 하지 마세요

- 앞으로 다시는 코드를 변경하지 않을 때
- 설계를 개선하더라도 배울 것이 없을 때

### 다음 상황에는 나중으로 정리를 미루세요

- 정리할 코드 분량이 많은데, 보상이 바로 보이지 않을 때
- 코드 정리에 대한 보상이 잠재적일 때
- 작은 묶음으로 여러 번에 나눠서 코드 정리를 할 수 있을 때

### 다음 상황에서는 동작 변경 후에 정리하세요

- 다음 코드 정리까지 기다릴수록 비용이 더 불어날 때
- 코드 정리를 하지 않으면 일을 끝냈다는 느낌이 들지 않을 때

### 다음 상황에서는 코드 정리 후에 동작을 변경하세요

- 코드 정리를 했을 때, 코드 이해가 쉬워지거나 동작 변경이 쉬워지는 즉각적인 효과를 얻을 수 있을 때
- 어떤 코드를 어떻게 정리해야 하는지 알고 있을 때
